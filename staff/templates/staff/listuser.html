{% extends 'base_STAFF.html' %}

{% block sidebar %}
<div class="col">
    Список клиентов
</div>
{% endblock %}

{% block content %}
<div class="col">
    <table class="table table-sm table-hover">
        <tr>
            <th>№</th>
            <th>Uniq ID</th>
            <th>Логин</th>
            <th>ФИО</th>
<!--            <th>email</th>-->
            <th>Телефон</th>
            <th>Действие</th>
        </tr>
        {% for user in users %}
        <tr>
            <td>{{ forloop.counter}}</td>
                        <td>{{ user.userprofile.uniq_id }}</td>

            <td>{{ user.username }}</td>
            <td>{{ user.last_name }} {{ user.first_name }}</td>
<!--            <td>{{ user.email}}</td>-->
            <td>{{ user.userprofile.phone_number}}</td>
            <td>
                <a href="{% url 'staffdeleteuser' user_id=user.id %}">Удалить</a>
                <a href="{% url 'staffediteuser' user_id=user.id %}">Редактировать</a>
            </td>
        </tr>
        {% endfor %}
    </table>
       <div class="container p-4">
        <div class="pagination justify-content-center">
            <span class="step-links">
              {% if users.has_previous %}
                  <a href="?page=1">&laquo; first</a>
                  <a href="?page={{ users.previous_page_number }}">previous</a>
              {% endif %}

                <span class="current">
                    Page {{ users.number }} of {{ users.paginator.num_pages }}
                </span>

              {% if users.has_next %}
                  <a href="?page={{ users.next_page_number }}">next</a>
                  <a href="?page={{ users.paginator.num_pages }}">last &raquo;</a>
              {% endif %}
            </span>
            </div>
        </div>

{% if users.has_other_pages %}
  <ul class="pagination">
    {% if users.has_previous %}
      <li><a href="?page={{ users.previous_page_number }}">&laquo;</a></li>
    {% else %}
      <li class="disabled"><span>&laquo;</span></li>
    {% endif %}
    {% for i in users.paginator.page_range %}
      {% if users.number == i %}
        <li class="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
      {% else %}
        <li><a href="?page={{ i }}">{{ i }}</a></li>
      {% endif %}
    {% endfor %}
    {% if users.has_next %}
      <li><a href="?page={{ users.next_page_number }}">&raquo;</a></li>
    {% else %}
      <li class="disabled"><span>&raquo;</span></li>
    {% endif %}
  </ul>
{% endif %}
</div>
{% endblock %}




